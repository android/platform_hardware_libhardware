{
  "comments": [
    {
      "key": {
        "uuid": "AAAAyX///yY\u003d",
        "filename": "modules/gralloc/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2010-05-06T14:34:31Z",
      "side": 1,
      "message": "I think I would prefer a feature-based test and macro instead, with something like:\n\nifeq (,$(BOARD_HAVE_PMEM))\nLOCAL_CFLAGS +\u003d -DHAVE_PMEM\nendif\n\nwhere BOARD_HAVE_PMEM would be defined in your of the vendor configuration files. However, this would probably modifying all other board config files at this point.\n\nCan you use a negative feature test instead then, e.g.:\n\nifneq ($(BOARD_HAVE_NO_PMEM),)\nLOCAL_CFLAGS +\u003d -DHAVE_NO_PMEM\nendif\n\nand then define BOARD_HAVE_NO_PMEM in one of the generic_x86 config files.\n\nMathias will probably have more to say about this.",
      "revId": "78967225018c4dace2d9b5c9c0179fcf948677c4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAyX///yE\u003d",
        "filename": "modules/gralloc/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1003360
      },
      "writtenOn": "2010-05-06T14:55:53Z",
      "side": 1,
      "message": "My understanding is that the /dev/pmem device only exists with one chipset (was it qualcomm?). Wouldn\u0027t it be better to have a positive test and only enable it if the chipset is there?",
      "parentUuid": "AAAAyX///yY\u003d",
      "revId": "78967225018c4dace2d9b5c9c0179fcf948677c4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAyX///r4\u003d",
        "filename": "modules/gralloc/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2010-05-07T18:32:44Z",
      "side": 1,
      "message": "yes, a positive test would be better, but would require changing stuff in vendor-specific config files, which may be problematic for some of the people working with their own fork of the source tree (I can only assume there are many).\n\nthat is, unless there is already a PMEM-specific feature macro somewhere we could leverage. If this is not the case, a negative test is more conservative.",
      "parentUuid": "AAAAyX///yE\u003d",
      "revId": "78967225018c4dace2d9b5c9c0179fcf948677c4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAyX///l4\u003d",
        "filename": "modules/gralloc/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1000888
      },
      "writtenOn": "2010-05-08T01:21:34Z",
      "side": 1,
      "message": "lets just add a BOARD_HAVE_NO_PMEM  to the generic_x86 BoardConfig.mk \n\nthen change the if($(TARGET_ARC),x86) to ifeq (,$(BOARD_HAVE_NO_PMEM),) LOCAL_CFLAGS +\u003d -DHAVE_NO_PMEM endif\n\nand be done with this.\n\nOther architectures than x86 also have no pmem too.",
      "parentUuid": "AAAAyX///yE\u003d",
      "revId": "78967225018c4dace2d9b5c9c0179fcf948677c4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}