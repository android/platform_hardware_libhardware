{
  "comments": [
    {
      "key": {
        "uuid": "741c27f3_0663e957",
        "filename": "modules/gralloc/framebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-10-22T20:17:41Z",
      "side": 1,
      "message": "I\u0027m assuming other formats have these values set elsewhere? Will this spam logs?",
      "range": {
        "startLine": 175,
        "startChar": 0,
        "endLine": 175,
        "endChar": 44
      },
      "revId": "f2ed293b9be68db45a6d2dc3fed5d2f504a6f861",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08abb027_d9aa05c8",
        "filename": "modules/gralloc/framebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2019-10-22T20:50:47Z",
      "side": 1,
      "message": "Yes, I would guess that any clients that actually work and are using a different format are setting these values elsewhere (e.g. because that\u0027s how the hardware/kernel brings the framebuffer up).\n\nI wouldn\u0027t expect this to be spamming logs. This function only gets called in a couple of processes that access the framebuffer directly (surfaceflinger and composer, IIRC). So it seems like it would only cause the emission of 2 additional log lines at startup, maximum.\n\nThe format is unlikely to be something other than RGBA8888 because that\u0027s the only format that works with the rest of the code. And to the extent that we\u0027re spamming logs, we\u0027re already doing so with the code on lines 229-257 below. Finally, this is an older gralloc implementation that I wouldn\u0027t expect many clients to be using.",
      "parentUuid": "741c27f3_0663e957",
      "range": {
        "startLine": 175,
        "startChar": 0,
        "endLine": 175,
        "endChar": 44
      },
      "revId": "f2ed293b9be68db45a6d2dc3fed5d2f504a6f861",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cac77cb_dffefbb8",
        "filename": "modules/gralloc/framebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-10-23T00:23:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "08abb027_d9aa05c8",
      "range": {
        "startLine": 175,
        "startChar": 0,
        "endLine": 175,
        "endChar": 44
      },
      "revId": "f2ed293b9be68db45a6d2dc3fed5d2f504a6f861",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a41d2352_77bcf30a",
        "filename": "modules/gralloc/framebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 177,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-10-22T20:17:41Z",
      "side": 1,
      "message": "is this the right place to do this? It looks kind of out of place",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 177,
        "endChar": 5
      },
      "revId": "f2ed293b9be68db45a6d2dc3fed5d2f504a6f861",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd1f408e_57e52aea",
        "filename": "modules/gralloc/framebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 177,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2019-10-22T20:50:47Z",
      "side": 1,
      "message": "It seems like the right place to me. The rest of the function is configuring the framebuffer to meet Android\u0027s requirements (e.g. enabling page flipping), just like this code is.",
      "parentUuid": "a41d2352_77bcf30a",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 177,
        "endChar": 5
      },
      "revId": "f2ed293b9be68db45a6d2dc3fed5d2f504a6f861",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80c8f649_c6a68b7e",
        "filename": "modules/gralloc/framebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 177,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-10-23T00:23:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cd1f408e_57e52aea",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 177,
        "endChar": 5
      },
      "revId": "f2ed293b9be68db45a6d2dc3fed5d2f504a6f861",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}